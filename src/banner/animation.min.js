function spawnSnowFlake(e){var t=e,a=Math.random()*(1.5*s_width)-.25*s_width,n=Math.random()*(2*s_width)-.5*s_width,r=speed+2*Math.random()-1;TweenMax.set(t,{x:a,y:0}),TweenMax.to(t,r,{x:n,y:s_height,ease:Power0.easeNone,onComplete:spawnSnowFlake,onCompleteParams:[t]})}function initSnowFlakes(){for(var e=0;e<=amount;e++){var t=document.createElement("div");t.classList.add("sflake"),stage.appendChild(t);var a=.8*Math.random()+.3,n=Math.random()*s_width,r=Math.random()*s_height,o=speed*((s_height-r)/s_height),s=Math.random()*s_width;TweenMax.set(t,{scale:a,x:n,y:r}),TweenMax.to(t,o,{y:s_height,x:s,ease:Power0.easeNone,onComplete:spawnSnowFlake,onCompleteParams:[t]})}}function checkTouchUpdate(){if(touching){var e=swipeFunc.touches.touchstart.x;console.log("TOUCHING!",e),e<150&&(moveLeft=!0),e>150&&(moveRight=!0)}}function everything(){function e(){if(gameStarted&&!gameEnded){gameElementTimer++,gameElementTimer>=gameElementExpire&&(gameElementTimer=0,gameElementExpire=40+20*Math.random(),spawnGameElement()),updateSpoutParticles(),updateGameElements(),checkTouchUpdate();var e=plowClearingSquare.clone(!0);maskThings.addChild(e),trail.push(e),drivewayMaskStage.update(),moveLeft?(targetX-=3,targetX<20&&(targetX=20),playerAngle-=1,playerAngle<-33&&(playerAngle=-33)):playerAngle<0&&(playerAngle+=1),moveRight?(targetX+=3,targetX>490&&(targetX=490),playerAngle+=1,playerAngle>33&&(playerAngle=33)):playerAngle>0&&(playerAngle-=1),targetX<30&&playerAngle<0&&(playerAngle+=1.5,playerAngle>0&&(playerAngle=0)),targetX>460&&playerAngle>0&&(playerAngle-=1.5,playerAngle<0&&(playerAngle=0)),plowClearingSquare.x+=.2*(targetX-plowClearingSquare.x),TweenMax.set(".player",{x:plowClearingSquare.x/2,rotation:playerAngle,transformOrigin:"50% 15px"}),a.y+=speed,a.y>0&&(a.y-=1200);for(var n=trail.length;n--;){var r=trail[n];r.y+=speed,r.y>1300&&(trail.splice(n,1),maskThings.removeChild(r),delete r)}t.seek(playerTLPosition.seekPosition),TweenMax.set(".kb1",{x:targetX/2-18}),TweenMax.set(".kb2",{x:targetX/2});walkCycleTL.seekPosition;walkCycleSeek>2?walkCycleSeek-=2:walkCycleSeek+=1/60,walkCycleTL.seek(walkCycleSeek)}}console.log("everything"),initPlayerLoopTimeline();var t=initPlayerTimeline();drivewayMask=document.querySelector(".drivewaymask"),TweenMax.set(drivewayMask,{scale:.5,transformOrigin:"0% 0%"}),drivewayMaskStage=new createjs.Stage(drivewayMask),dmContext=drivewayMask.getContext("2d"),maskThings=new createjs.Container,drivewayMaskStage.addChild(maskThings);var a=new createjs.Container;drivewayMaskStage.addChild(a),plowClearingSquare=new createjs.Shape,plowClearingSquare.graphics.f("#ffbc33").rect(0,0,90,40),plowClearingSquare.x=254,plowClearingSquare.y=820,maskThings.addChild(plowClearingSquare);var n=Object.create(pngCanvasSprites.driveway),r=Object.create(pngCanvasSprites.driveway);n.compositeOperation="source-atop",r.compositeOperation="source-atop",r.y=1200,a.addChild(n),a.addChild(r),maintl.add("frame0",0).to(".stage",.05,{autoAlpha:1}).add("frame1","+=.5").staggerFrom(".start-text",.75,{x:300,ease:Power3.easeOut},.5,"frame1").staggerFrom(".start-box",.75,{x:300,ease:Power3.easeOut},.5,"frame1").from(".start-box34, .start-text34",.75,{x:300,ease:Power3.easeOut},"frame1+=1").from(".intro-box",1,{y:600,ease:Power3.easeOut},"frame1+=1.5").seek(0),createjs.Ticker.setFPS(60),createjs.Ticker.addEventListener("tick",e),createjs.Ticker.init(),initPlayerControls(t)}function spawnGameElement(){var e=document.createElement("div"),t="",a=Math.random();a<.5?(TweenMax.set(e,{y:-100,x:50+200*Math.random()}),t="snowflake"):a>=.5&&a<.6?(TweenMax.set(e,{y:-100,x:50+200*Math.random()}),t="mitten"):a>=.6&&a<.9?(TweenMax.set(e,{y:-100,x:50+200*Math.random()}),t="newspaper"):a>=.9&&(t="drift",Math.random()>.5?TweenMax.set(e,{y:-100,x:180+10*Math.random()}):TweenMax.set(e,{y:-100,x:-90-30*Math.random()})),e.classList.add("png-element"),e.classList.add(t),gameElements.push(e),e.collectionChecked=!1,e.elementType=t,gameElementContainer.appendChild(e)}function updateGameElements(){for(var e=gameElements.length;e--;){var t=gameElements[e];if(TweenMax.set(t,{y:"+="+.5*speed}),t._gsTransform.y>400&&!t.collectionChecked){t.collectionChecked=!0;var a={left:t._gsTransform.x-33,right:t._gsTransform.x};"drift"===t.elementType&&(a.right+=250),"newspaper"===t.elementType&&(a={left:t._gsTransform.x-45,right:t._gsTransform.x+20}),"mitten"===t.elementType&&(a={left:t._gsTransform.x-45,right:t._gsTransform.x+15}),"snowflake"===t.elementType&&(a={left:t._gsTransform.x-45,right:t._gsTransform.x+10});var n={left:targetX/2-18,right:targetX/2};a.left<n.right&&a.right>n.left&&("drift"!==t.elementType&&gameElements.splice(e,1),scoreTheElement(t))}t._gsTransform.y>600&&(gameElements.splice(e,1),t.remove(),delete t)}}function scoreTheElement(e){var t,a,n,r,o=document.querySelector(".points-card");switch(gameElementContainer.appendChild(e),e.elementType){case"drift":r=100,points.points+=r;break;case"newspaper":r=-50,points.points-=50,t=Math.random()*-50-25,a=Math.random()*-50-50,n=1080*Math.random()+360,TweenMax.to(e,.75,{x:t,y:a,scale:3,rotation:n}),TweenMax.to(e,.25,{autoAlpha:0,delay:.5,onComplete:function(){e.remove(),delete e}});break;case"mitten":r=-25,points.points-=25,t=Math.random()*-50-25,a=Math.random()*-50-50,n=1080*Math.random()+360,TweenMax.to(e,.75,{x:t,y:a,scale:3,rotation:n}),TweenMax.to(e,.25,{autoAlpha:0,delay:.5,onComplete:function(){e.remove(),delete e}});break;case"snowflake":r=10,points.points+=r,TweenMax.to(e,.35,{autoAlpha:0,delay:.3,ease:Back.easeIn,onComplete:function(){e.remove(),delete e}}),TweenMax.to(e,.5,{scale:3,rotation:60,ease:Back.easeOut}),TweenMax.to(e,.5,{y:"-=100",ease:Power3.easeOut})}r<0?(pointCardDisplay.innerHTML=r.toString(),pointCardDisplay.innerText=r.toString(),pointCardDisplay.style.display="none",pointCardDisplay.style.offsetHeight,pointCardDisplay.style.display="",o.classList.add("bad-points")):(pointCardDisplay.innerHTML="+"+r.toString(),pointCardDisplay.innerText="+"+r.toString(),pointCardDisplay.style.display="none",pointCardDisplay.style.offsetHeight,pointCardDisplay.style.display="",o.classList.remove("bad-points")),TweenMax.killDelayedCallsTo(clearPointsCard),TweenMax.fromTo(o,.5,{autoAlpha:0,y:20},{autoAlpha:1,y:0,ease:Power2.easeOut}),TweenMax.delayedCall(1,clearPointsCard),TweenMax.to(points,.5,{displayPoints:points.points,onUpdate:function(){scoreDisplay.innerHTML=Math.floor(points.displayPoints),scoreDisplay.innerText=Math.floor(points.displayPoints),scoreDisplay.style.display="none",scoreDisplay.style.offsetHeight,scoreDisplay.style.display="",playAgainPointsDisplay.innerHTML=Math.floor(points.displayPoints),playAgainPointsDisplay.innerText=Math.floor(points.displayPoints),playAgainPointsDisplay.style.display="none",playAgainPointsDisplay.style.offsetHeight,playAgainPointsDisplay.style.display=""}})}function clearPointsCard(){TweenMax.to(".points-card",.25,{autoAlpha:0,ease:Power2.easeIn})}function initSpoutParticles(){}function updateSpoutParticles(){for(var e=spoutParticles.length;e--;){var t=spoutParticles[e];t.x+=t.vx,t.y+=t.vy,t.vy+=t.ay,t.age+=1,t.age>30&&(spoutParticles.splice(e,1),snowCanvasStage.removeChild(t),delete t)}snowCanvasStage.update(),spawnSpoutParticle(),spawnSpoutParticle(),spawnSpoutParticle()}function spawnSpoutParticle(){if(gameStarted){var e=document.querySelector(".blower-spout").getBoundingClientRect(),t=new createjs.Shape,a=Math.floor(70*Math.random()+185);t.graphics.f("rgb("+a+","+a+","+a+")").rect(0,0,3+2*Math.random(),3+2*Math.random()),t.x=e.x+13+.1*playerAngle,t.y=e.y+5-.1*playerAngle,t.vx=-5+Math.random()+.1*playerAngle,t.vy=4.5*-Math.random()-.1*playerAngle,t.ay=.1*Math.random(),t.age=0,spoutParticles.push(t),snowCanvasStage.addChild(t)}}function initRoadLoopTimeline(){roadLoopTL=new TimelineMax,roadLoopTL.to(".road .png-element",5,{repeat:-1,ease:Power0.easeNone,y:600},0)}function initPlayerLoopTimeline(){walkCycleTL=new TimelineMax,walkCycleTL.add("frame0",0).to(".blower-tread",.333,{y:-6,ease:Power0.easeNone,repeat:6},"frame0").to(".poof_1",1,{rotation:360,ease:Power0.easeNone,repeat:1},"frame0").to(".poof_2",1,{rotation:-360,ease:Power0.easeNone,repeat:1},"frame0").to(".poof_3",2,{rotation:-360,ease:Power0.easeNone,repeat:0},"frame0").to(".full-leg-left",.5,{y:-10,yoyo:!0,ease:Power1.easeInOut,repeat:4,transformOrigin:"50% 100%"},"frame0").to(".person-foot-left",.5,{y:-3,yoyo:!0,ease:Power1.easeInOut,repeat:4,transformOrigin:"50% 100%"},"frame0").to(".full-leg-right",.5,{y:10,yoyo:!0,ease:Power1.easeInOut,repeat:4,transformOrigin:"50% 100%"},"frame0").to(".person-foot-right",.5,{y:3,yoyo:!0,ease:Power1.easeInOut,repeat:4,transformOrigin:"50% 100%"},"frame0").stop()}function initPlayerTimeline(){return playerTurnTL=new TimelineMax,playerTurnTL.add("left",0).to(".snow-blower",.5,{rotation:-15,ease:Power1.easeInOut,transformOrigin:"50% 60"},"left").to(".person",.5,{x:25,y:-3,rotation:10,ease:Power1.easeInOut,transformOrigin:"50% 0%"},"left").to(".person-arm-left",.5,{scaleY:.8,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"left").to(".person-arm-left",.5,{rotation:2,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"left").to(".person-arm-right",.5,{scaleY:1.05,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"left").to(".person-arm-right",.5,{rotation:-2,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"left").add("center",.5).to(".snow-blower",.5,{rotation:0,ease:Power1.easeInOut,transformOrigin:"50% 60%"},"center").to(".person",.5,{x:0,y:0,rotation:0,ease:Power1.easeInOut,transformOrigin:"50% 0%"},"center").to(".person-arm-left",.5,{scaleY:1,rotation:0,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"center").to(".person-arm-right",.5,{scaleY:1,rotation:0,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"center").add("right",1).to(".snow-blower",.5,{rotation:15,ease:Power1.easeInOut,transformOrigin:"50% 60%"},"right").to(".person",.5,{x:-25,y:-3,rotation:-10,ease:Power1.easeInOut,transformOrigin:"50% 0%"},"right").to(".person-arm-right",.5,{scaleY:.8,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"right").to(".person-arm-right",.5,{rotation:2,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"right").to(".person-arm-left",.5,{scaleY:1.05,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"right").to(".person-arm-left",.5,{rotation:-2,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"right").add("center2",1.5).to(".snow-blower",.5,{rotation:0,ease:Power1.easeInOut,transformOrigin:"50% 60%"},"center2").to(".person",.5,{x:0,y:0,rotation:0,ease:Power1.easeInOut,transformOrigin:"50% 0%"},"center2").to(".person-arm-left",.5,{scaleY:1,rotation:0,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"center2").to(".person-arm-right",.5,{scaleY:1,rotation:0,ease:Power1.easeInOut,transformOrigin:"50% 100%"},"center2").stop(),playerTurnTL}function initPlayerControls(e){function t(e){e=e||window.event,TweenMax.to(".arrows",.5,{autoAlpha:0,y:10}),"37"==e.keyCode||"65"==e.keyCode?(moveLeft||TweenMax.fromTo(playerTLPosition,.7,{seekPosition:0},{seekPosition:1}),moveLeft=!0):"39"==e.keyCode||"68"==e.keyCode?(moveRight||TweenMax.fromTo(playerTLPosition,.7,{seekPosition:1},{seekPosition:2}),moveRight=!0):"38"==e.keyCode||"40"==e.keyCode}function a(e){"37"==e.keyCode||"65"==e.keyCode?moveLeft=!1:"39"!=e.keyCode&&"68"!=e.keyCode||(moveRight=!1)}document.onkeydown=t,document.onkeyup=a}function startGame(){gameStarted||(console.log("START GAME!"),gameStarted=!0,TweenMax.delayedCall(1,startTimer),initRoadLoopTimeline(),TweenMax.to(".arrows",.5,{y:0,autoAlpha:1}),TweenMax.fromTo(".score, .clock-container",.5,{y:-50},{y:0,ease:Power1.easeOut}))}function startTimer(){console.log("--startTimer--"),totalTime=30,displayTime.innerHTML=totalTime,displayTime.innerText=totalTime,displayTime.style.display="none",displayTime.style.offsetHeight,displayTime.style.display="",updateTime()}function updateTime(){totalTime-=1,totalTime<=0?(totalTime=0,TweenMax.killDelayedCallsTo(updateTime),finishGame()):TweenMax.delayedCall(1,updateTime),displayTime.innerHTML=totalTime,displayTime.innerText=totalTime,displayTime.style.display="none",displayTime.style.offsetHeight,displayTime.style.display="",console.log("updateTime-totalTime:",totalTime,displayTime)}function finishGame(){console.log("FINISH GAME!"),currentProduct=0,gameStarted=!1,gameEnded=!0,autoScroll=!0,""==playAgainPointsDisplay.innerHTML&&(playAgainPointsDisplay.innerHTML="0",playAgainPointsDisplay.innerText="0",playAgainPointsDisplay.style.display="none",playAgainPointsDisplay.style.offsetHeight,playAgainPointsDisplay.style.display=""),points.points<=0?(TweenMax.set(".end-text-try-again",{autoAlpha:1}),TweenMax.set(".end-text-nice-work",{autoAlpha:0})):(TweenMax.set(".end-text-try-again",{autoAlpha:0}),TweenMax.set(".end-text-nice-work",{autoAlpha:1})),roadLoopTL.stop(),TweenMax.to(".end-frame",.5,{x:0,ease:Power2.easeOut,delay:1.5}),TweenMax.to(".score, .clock-container",.5,{y:-50,ease:Power1.easeOut})}function autoPaginate(){autoScroll&&(updateCarousel(currentProduct),currentProduct++,currentProduct<0&&(currentProduct=3),currentProduct>3&&(currentProduct=0),TweenMax.delayedCall(3,autoPaginate))}function hideProductMessage(e){console.log("hideProductMessage"),e?(TweenMax.to(".product-message",.5,{autoAlpha:0,ease:Power2.easeInOut}),TweenMax.delayedCall(.75,showProducts,[!0])):(TweenMax.to(".product-message",.5,{autoAlpha:1}),TweenMax.delayedCall(.75,showProducts,[!1]))}function showProducts(e){console.log("showProducts"),e?(TweenMax.to(".end-text-browse",.5,{autoAlpha:1,ease:Power2.easeOut}),TweenMax.to(".product",.5,{autoAlpha:1,ease:Power2.easeOut,delay:.4}),TweenMax.to(".products-navigation",.5,{autoAlpha:1,ease:Power2.easeOut,delay:.8})):(TweenMax.to(".end-text-browse",.5,{autoAlpha:0}),TweenMax.to(".product",.5,{autoAlpha:0}),TweenMax.to(".products-navigation",.5,{autoAlpha:0}))}function resetScore(){points={points:0,displayPoints:0},scoreDisplay.innerHTML=0,scoreDisplay.innerText=0,scoreDisplay.style.display="none",scoreDisplay.style.offsetHeight,scoreDisplay.style.display="",playAgainPointsDisplay.innerHTML=0,playAgainPointsDisplay.innerText=0,playAgainPointsDisplay.style.display="none",playAgainPointsDisplay.style.offsetHeight,playAgainPointsDisplay.style.display=""}function reset(){if(!gameStarted){TweenMax.to(".end-frame",.75,{x:-300,ease:Power4.easeIn}),TweenMax.delayedCall(.75,resetScore),TweenMax.delayedCall(.75,hideProductMessage,[!1]),TweenMax.killDelayedCallsTo(autoPaginate),TweenMax.delayedCall(.75,updateCarousel,[0]),TweenMax.delayedCall(.75,updateNavigation,[0]);for(var e=0;e<gameElements.length;e++){var t=gameElements[e];t.remove()}gameElements=[],targetX=254,TweenMax.set(".player",{x:targetX/2,rotation:0,transformOrigin:"50% 15px"}),plowClearingSquare.x=targetX;for(var e=trail.length;e--;){var a=trail[e];trail.splice(e,1),maskThings.removeChild(a),delete a}roadLoopTL.play(),drivewayMaskStage.clear(),replayGame()}}function replayGame(){console.log("replayGame"),TweenMax.delayedCall(1,startTimer),TweenMax.fromTo(".arrows",.5,{autoAlpha:0,y:10},{autoAlpha:1,y:0,delay:1}),TweenMax.fromTo(".score, .clock-container",.5,{y:-50},{y:0,delay:1,ease:Power1.easeOut}),gameStarted=!0,gameEnded=!1}function clearSnowCanvasStage(){for(var e=0;e<snowCanvasStage.children.length;e++){var t=snowCanvasStage.children[e];snowCanvasStage.removeChild(t),delete t}var a=snowCanvasStage.children.length;console.log("cCount",a)}function openURL(e){window.open(e,"_blank")}function clickCarousel(e){switch(console.log(e.target.buttonType),autoScroll=!1,TweenMax.killDelayedCallsTo(autoPaginate),e.target.buttonType){case"carousel-left":currentProduct-=1,currentProduct<0&&(currentProduct=3);break;case"carousel-right":currentProduct+=1,currentProduct>3&&(currentProduct=0);break;case"carousel-button1":currentProduct=0;break;case"carousel-button2":currentProduct=1;break;case"carousel-button3":currentProduct=2;break;case"carousel-button4":currentProduct=3}console.log("currentProduct: "+currentProduct),updateCarousel(currentProduct)}function updateCarousel(e){var t=e*-260;console.log("newNumber: "+t),TweenMax.to(productsCarousel,1,{x:t,ease:Power2.easeInOut}),updateNavigation(currentProduct)}function updateNavigation(e){for(var t=0;t<buttonsArray.length;t++){var a=buttonsArray[t];t==e?a.classList.add("selected"):a.classList.remove("selected")}}var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";function e(e,t,a,n){return a=parseFloat(a)-parseFloat(e),n=parseFloat(n)-parseFloat(t),Math.sqrt(a*a+n*n)}function t(e){return"string"!=typeof e&&e.nodeType||(e=_gsScope.TweenLite.selector(e),e.length&&(e=e[0])),e}function a(e,t,a){var n,r,o=e.indexOf(" ");return-1===o?(n=void 0!==a?a+"":e,r=e):(n=e.substr(0,o),r=e.substr(o+1)),n=-1!==n.indexOf("%")?parseFloat(n)/100*t:parseFloat(n),r=-1!==r.indexOf("%")?parseFloat(r)/100*t:parseFloat(r),n>r?[r,n]:[n,r]}function n(a){if(!a)return 0;a=t(a);var n,r,o,s,i,p,l,g,d=a.tagName.toLowerCase();if("path"===d)i=a.style.strokeDasharray,a.style.strokeDasharray="none",n=a.getTotalLength()||0,r=a.getBBox(),a.style.strokeDasharray=i;else if("rect"===d)r=a.getBBox(),n=2*(r.width+r.height);else if("circle"===d)n=2*Math.PI*parseFloat(a.getAttribute("r"));else if("line"===d)n=e(a.getAttribute("x1"),a.getAttribute("y1"),a.getAttribute("x2"),a.getAttribute("y2"));else if("polyline"===d||"polygon"===d)for(o=a.getAttribute("points").split(" "),n=0,i=o[0].split(","),"polygon"===d&&(o.push(o[0]),-1===o[0].indexOf(",")&&o.push(o[1])),p=1;p<o.length;p++)s=o[p].split(","),1===s.length&&(s[1]=o[p++]),2===s.length&&(n+=e(i[0],i[1],s[0],s[1])||0,i=s);else"ellipse"===d&&(l=parseFloat(a.getAttribute("rx")),g=parseFloat(a.getAttribute("ry")),n=Math.PI*(3*(l+g)-Math.sqrt((3*l+g)*(l+3*g))));return n||0}function r(e,a){if(!e)return[0,0];e=t(e),a=a||n(e)+1;var r=s(e),o=r.strokeDasharray||"",i=parseFloat(r.strokeDashoffset),p=o.indexOf(",");return 0>p&&(p=o.indexOf(" ")),o=0>p?a:parseFloat(o.substr(0,p))||1e-5,o>a&&(o=a),[Math.max(0,-i),Math.max(0,o-i)]}var o,s=document.defaultView?document.defaultView.getComputedStyle:function(){};o=_gsScope._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.0.7",global:!0,overwriteProps:["drawSVG"],init:function(e,t,o){if(!e.getBBox)return!1;var s,i,p,l=n(e)+1;return this._style=e.style,t===!0||"true"===t?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",s=r(e,l),i=a(t,l,s[0]),this._length=l+10,0===s[0]&&0===i[0]?(p=Math.max(1e-5,i[1]-l),this._dash=l+p,this._offset=l-s[1]+p,this._addTween(this,"_offset",this._offset,l-i[1]+p,"drawSVG")):(this._dash=s[1]-s[0]||1e-6,this._offset=-s[0],this._addTween(this,"_dash",this._dash,i[1]-i[0]||1e-5,"drawSVG"),this._addTween(this,"_offset",this._offset,-i[0],"drawSVG")),!0},set:function(e){this._firstPT&&(this._super.setRatio.call(this,e),this._style.strokeDashoffset=this._offset,1===e||0===e?this._style.strokeDasharray=this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._style.strokeDasharray=this._dash+"px,"+this._length+"px")}}),o.getLength=n,o.getPosition=r}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();var jpgCanvasSpriteSheetData={images:["jpg-element.jpg"],frames:[[0,0,600,1200]]},jpgCanvasSpriteSheet=new createjs.SpriteSheet(jpgCanvasSpriteSheetData),jpgCanvasSprites=[],jpgCanvasSprite0=new createjs.Sprite(jpgCanvasSpriteSheet);jpgCanvasSprite0.gotoAndStop(0),jpgCanvasSprites["start-image"]=jpgCanvasSprite0;var pngCanvasSpriteSheetData={images:["png-element.png"],frames:[[1212,916,554,130],[1212,780,554,130],[996,606,90,178],[70,1812,62,62],[1884,1458,18,50],[1884,1514,16,42],[1908,1458,18,42],[1932,1458,12,26],[1008,846,144,22],[1680,1162,98,20],[1212,606,454,168],[0,0,600,1200],[736,992,318,20],[1212,1126,508,30],[606,846,396,30],[1212,1162,462,30],[606,1042,92,92],[1092,606,92,92],[782,1042,202,20],[1598,1100,202,20],[1212,1052,380,68],[1818,0,60,1200],[894,882,274,40],[962,932,200,24],[942,796,200,24],[606,606,384,184],[736,964,324,22],[606,932,350,26],[0,1812,64,72],[704,1042,72,70],[1884,1330,20,80],[1910,1330,20,80],[1884,1280,54,44],[1928,1514,10,14],[1884,1416,30,36],[1920,1416,16,32],[1906,1514,16,32],[782,1068,150,20],[990,1042,150,20],[1066,964,98,20],[1212,1206,600,600],[606,1206,600,600],[0,1206,600,600],[1212,0,600,600],[606,0,600,600],[1884,0,60,1200],[606,964,124,72],[1672,606,100,100],[1884,1206,60,68],[1672,712,130,52],[606,796,330,44],[1598,1052,200,42],[606,882,282,44],[1092,704,72,72]]},pngCanvasSpriteSheet=new createjs.SpriteSheet(pngCanvasSpriteSheetData),pngCanvasSprites=[],pngCanvasSprite0=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite0.gotoAndStop(0),pngCanvasSprites["arrows-desktop"]=pngCanvasSprite0;var pngCanvasSprite1=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite1.gotoAndStop(1),pngCanvasSprites["arrows-mobile"]=pngCanvasSprite1;var pngCanvasSprite2=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite2.gotoAndStop(2),pngCanvasSprites["blower-body"]=pngCanvasSprite2;var pngCanvasSprite3=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite3.gotoAndStop(3),pngCanvasSprites["blower-spout"]=pngCanvasSprite3;var pngCanvasSprite4=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite4.gotoAndStop(4),pngCanvasSprites["blower-tread"]=pngCanvasSprite4;var pngCanvasSprite5=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite5.gotoAndStop(5),pngCanvasSprites["blower-wheel-shadow"]=pngCanvasSprite5;var pngCanvasSprite6=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite6.gotoAndStop(6),pngCanvasSprites["blower-wheel"]=pngCanvasSprite6;var pngCanvasSprite7=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite7.gotoAndStop(7),pngCanvasSprites["carousel-arrow"]=pngCanvasSprite7;var pngCanvasSprite8=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite8.gotoAndStop(8),pngCanvasSprites.cta2=pngCanvasSprite8;var pngCanvasSprite9=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite9.gotoAndStop(9),pngCanvasSprites.cta=pngCanvasSprite9;var pngCanvasSprite10=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite10.gotoAndStop(10),pngCanvasSprites.drift=pngCanvasSprite10;var pngCanvasSprite11=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite11.gotoAndStop(11),pngCanvasSprites.driveway=pngCanvasSprite11;var pngCanvasSprite12=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite12.gotoAndStop(12),pngCanvasSprites["end-text-browse"]=pngCanvasSprite12;var pngCanvasSprite13=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite13.gotoAndStop(13),pngCanvasSprites["end-text-nice-work"]=pngCanvasSprite13;var pngCanvasSprite14=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite14.gotoAndStop(14),pngCanvasSprites["end-text-share-your-score"]=pngCanvasSprite14;var pngCanvasSprite15=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite15.gotoAndStop(15),pngCanvasSprites["end-text-try-again"]=pngCanvasSprite15;var pngCanvasSprite16=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite16.gotoAndStop(16),pngCanvasSprites["icon-facebook"]=pngCanvasSprite16;var pngCanvasSprite17=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite17.gotoAndStop(17),pngCanvasSprites["icon-twitter"]=pngCanvasSprite17;var pngCanvasSprite18=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite18.gotoAndStop(18),pngCanvasSprites["intro-cta-rollover"]=pngCanvasSprite18;var pngCanvasSprite19=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite19.gotoAndStop(19),pngCanvasSprites["intro-cta"]=pngCanvasSprite19;var pngCanvasSprite20=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite20.gotoAndStop(20),pngCanvasSprites["intro-text"]=pngCanvasSprite20;var pngCanvasSprite21=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite21.gotoAndStop(21),pngCanvasSprites["left-snowdrift"]=pngCanvasSprite21;var pngCanvasSprite22=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite22.gotoAndStop(22),pngCanvasSprites.logo=pngCanvasSprite22;var pngCanvasSprite23=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite23.gotoAndStop(23),pngCanvasSprites["mid-cta-rollover"]=pngCanvasSprite23;var pngCanvasSprite24=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite24.gotoAndStop(24),pngCanvasSprites["mid-cta"]=pngCanvasSprite24;var pngCanvasSprite25=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite25.gotoAndStop(25),pngCanvasSprites["mid-text1"]=pngCanvasSprite25;var pngCanvasSprite26=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite26.gotoAndStop(26),pngCanvasSprites["mid-text2"]=pngCanvasSprite26;var pngCanvasSprite27=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite27.gotoAndStop(27),pngCanvasSprites["mid-text3"]=pngCanvasSprite27;var pngCanvasSprite28=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite28.gotoAndStop(28),pngCanvasSprites.mitten=pngCanvasSprite28;var pngCanvasSprite29=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite29.gotoAndStop(29),pngCanvasSprites.newspaper=pngCanvasSprite29;var pngCanvasSprite30=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite30.gotoAndStop(30),pngCanvasSprites["person-arm-left"]=pngCanvasSprite30;var pngCanvasSprite31=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite31.gotoAndStop(31),pngCanvasSprites["person-arm-right"]=pngCanvasSprite31;var pngCanvasSprite32=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite32.gotoAndStop(32),pngCanvasSprites["person-body"]=pngCanvasSprite32;var pngCanvasSprite33=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite33.gotoAndStop(33),pngCanvasSprites["person-foot"]=pngCanvasSprite33;var pngCanvasSprite34=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite34.gotoAndStop(34),pngCanvasSprites["person-head"]=pngCanvasSprite34;var pngCanvasSprite35=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite35.gotoAndStop(35),pngCanvasSprites["person-leg-left"]=pngCanvasSprite35;var pngCanvasSprite36=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite36.gotoAndStop(36),pngCanvasSprites["person-leg-right"]=pngCanvasSprite36;var pngCanvasSprite37=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite37.gotoAndStop(37),pngCanvasSprites["play-again-rollover"]=pngCanvasSprite37;var pngCanvasSprite38=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite38.gotoAndStop(38),pngCanvasSprites["play-again"]=pngCanvasSprite38;var pngCanvasSprite39=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite39.gotoAndStop(39),pngCanvasSprites.points=pngCanvasSprite39;var pngCanvasSprite40=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite40.gotoAndStop(40),pngCanvasSprites["product-message"]=pngCanvasSprite40;var pngCanvasSprite41=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite41.gotoAndStop(41),pngCanvasSprites.product1=pngCanvasSprite41;var pngCanvasSprite42=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite42.gotoAndStop(42),pngCanvasSprites.product2=pngCanvasSprite42;var pngCanvasSprite43=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite43.gotoAndStop(43),pngCanvasSprites.product3=pngCanvasSprite43;var pngCanvasSprite44=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite44.gotoAndStop(44),pngCanvasSprites.product4=pngCanvasSprite44;var pngCanvasSprite45=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite45.gotoAndStop(45),pngCanvasSprites["right-snowdrift"]=pngCanvasSprite45;var pngCanvasSprite46=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite46.gotoAndStop(46),pngCanvasSprites.score=pngCanvasSprite46;var pngCanvasSprite47=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite47.gotoAndStop(47),pngCanvasSprites.snow_poof_1=pngCanvasSprite47;var pngCanvasSprite48=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite48.gotoAndStop(48),pngCanvasSprites.snowflake=pngCanvasSprite48;var pngCanvasSprite49=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite49.gotoAndStop(49),pngCanvasSprites["start-text1"]=pngCanvasSprite49;var pngCanvasSprite50=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite50.gotoAndStop(50),pngCanvasSprites["start-text2"]=pngCanvasSprite50;var pngCanvasSprite51=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite51.gotoAndStop(51),pngCanvasSprites["start-text3"]=pngCanvasSprite51;var pngCanvasSprite52=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite52.gotoAndStop(52),pngCanvasSprites["start-text4"]=pngCanvasSprite52;var pngCanvasSprite53=new createjs.Sprite(pngCanvasSpriteSheet);pngCanvasSprite53.gotoAndStop(53),pngCanvasSprites.timer=pngCanvasSprite53;var maintl;maintl=new TimelineMax,window.onload=function(){everything()};var points={points:0,displayPoints:0},scoreDisplay=document.querySelector(".score .score-text"),playAgainPointsDisplay=document.querySelector(".play-again-points-text"),pointCardDisplay=document.querySelector(".points-card .points-text"),trail=[],speed=4.2,targetX=254,gameElementExpire=50,gameElementTimer=0,spoutParticles=[],gameElements=[],gameElementContainer=document.querySelector(".gameElements"),snowCanvas=document.querySelector(".snow"),snowCanvasStage=new createjs.Stage(snowCanvas),moveLeft=!1,moveRight=!1,playerAngle=0,playerTLPosition={seekPosition:0},productsArray,carouselButtonsArray,totalTime=30,displayTime=document.querySelector(".clock-container .time-text"),gameStarted=!1,gameEnded=!1,drivewayMask,dmContext,touching=!1,autoScroll=!1;TweenMax.set(".end-frame",{x:-300}),TweenMax.set(".footer",{autoAlpha:0}),TweenMax.set(".drift",{scale:.4,x:25,y:132}),TweenMax.set(".snowflake",{scale:.9,x:52,y:156}),TweenMax.set(".newspaper",{scale:.9,x:75,y:225}),TweenMax.set(".mitten",{scale:.9,x:119,y:225}),TweenMax.set(".player",{x:127}),TweenMax.set(".arrows",{autoAlpha:0,y:10}),TweenMax.set(".score, .clock-container",{y:-50});var stage=document.querySelector(".stage"),amount=50,s_width=300,s_height=600,speed=5;initSnowFlakes();var plowClearingSquare,drivewayMaskStage,maskThings,myEvent="ontouchstart"in document.documentElement?"touchend":"click";console.log("myEvent: "+myEvent),"touchend"==myEvent?(TweenMax.set(".arrows-mobile",{autoAlpha:1}),TweenMax.set(".arrows-desktop",{autoAlpha:0})):(TweenMax.set(".arrows-mobile",{autoAlpha:0}),TweenMax.set(".arrows-desktop",{autoAlpha:1}));var swipeFunc={touches:{touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},touchHandler:function(e){var t;if(!gameEnded&&"undefined"!=typeof e&&(e.preventDefault(),"undefined"!=typeof e.touches))switch(t=e.touches[0],e.type){case"touchstart":touching=!0;case"touchmove":swipeFunc.touches[e.type].x=t.pageX,swipeFunc.touches[e.type].y=t.pageY;break;case"touchend":touching=!1,gameStarted&&!gameEnded&&(moveLeft=!1,moveRight=!1,TweenMax.to(".arrows",.5,{autoAlpha:0,y:10}))}},init:function(){document.querySelector(".stage").addEventListener("touchstart",swipeFunc.touchHandler,!1),document.querySelector(".stage").addEventListener("touchmove",swipeFunc.touchHandler,!1),document.querySelector(".stage").addEventListener("touchend",swipeFunc.touchHandler,!1)}};swipeFunc.init();var walkCycleTL,walkCycleSeek=1/60,carouselLeft,carouselRight,productsCarousel,productsNavigation,buttonsArray,currentProduct=0;document.querySelector(".intro-cta-button").addEventListener("mouseover",function(){TweenMax.to(".intro-cta-button",.1,{backgroundColor:"#FFFFFF",ease:Power2.easeOut}),TweenMax.to(".intro-cta-rollover",.1,{autoAlpha:1,ease:Power2.easeOut})}),document.querySelector(".intro-cta-button").addEventListener("mouseout",function(){TweenMax.to(".intro-cta-button",.25,{backgroundColor:"#000000",ease:Power2.easeOut}),TweenMax.to(".intro-cta-rollover",.25,{autoAlpha:0,ease:Power2.easeOut})}),document.querySelector(".intro-cta-button").addEventListener(myEvent,function(){console.log("intro-cta-button is clicked"),TweenMax.to(".start-frame",.75,{x:-300,ease:Power4.easeIn})}),document.querySelector(".mid-cta-button").addEventListener("mouseover",function(){TweenMax.to(".mid-cta-button",.1,{backgroundColor:"#FFFFFF",ease:Power2.easeOut
}),TweenMax.to(".mid-cta-rollover",.1,{autoAlpha:1,ease:Power2.easeOut})}),document.querySelector(".mid-cta-button").addEventListener("mouseout",function(){TweenMax.to(".mid-cta-button",.25,{backgroundColor:"#da0026",ease:Power2.easeOut}),TweenMax.to(".mid-cta-rollover",.25,{autoAlpha:0,ease:Power2.easeOut})}),document.querySelector(".mid-cta-button").addEventListener(myEvent,function(){TweenMax.to(".mid-box",.75,{x:-300,ease:Power4.easeIn}),TweenMax.to(".black-overlay",.75,{autoAlpha:0,ease:Power2.easeOut,delay:1,onComplete:startGame})}),document.querySelector(".play-again-button").addEventListener("mouseover",function(){TweenMax.to(".play-again-button",.1,{backgroundColor:"#FFFFFF",ease:Power2.easeOut}),TweenMax.to(".play-again-rollover",.1,{autoAlpha:1,ease:Power2.easeOut})}),document.querySelector(".play-again-button").addEventListener("mouseout",function(){TweenMax.to(".play-again-button",.25,{backgroundColor:"#000000",ease:Power2.easeOut}),TweenMax.to(".play-again-rollover",.25,{autoAlpha:0,ease:Power2.easeOut})}),document.querySelector(".play-again-button").addEventListener(myEvent,function(){reset()}),document.querySelector(".share-facebook").addEventListener("mouseover",function(){TweenMax.to(".share-facebook",.1,{backgroundColor:"#4267B2",ease:Power2.easeOut})}),document.querySelector(".share-twitter").addEventListener("mouseover",function(){TweenMax.to(".share-twitter",.1,{backgroundColor:"#1DA1F2",ease:Power2.easeOut})}),document.querySelector(".share-facebook").addEventListener("mouseout",function(){TweenMax.to(".share-facebook",.25,{backgroundColor:"#000000",ease:Power2.easeOut})}),document.querySelector(".share-twitter").addEventListener("mouseout",function(){TweenMax.to(".share-twitter",.25,{backgroundColor:"#000000",ease:Power2.easeOut})}),document.querySelector(".share-facebook").addEventListener(myEvent,function(){}),document.querySelector(".share-twitter").addEventListener(myEvent,function(){}),document.querySelector(".cta2-button").addEventListener("mouseover",function(){TweenMax.to(".cta2-button",.1,{backgroundColor:"#000000",ease:Power2.easeOut})}),document.querySelector(".cta2-button").addEventListener("mouseout",function(){TweenMax.to(".cta2-button",.25,{backgroundColor:"#ca0003",ease:Power2.easeOut})}),document.querySelector(".cta2-button").addEventListener(myEvent,function(){window.open("https://www.troybilt.com/en_US/snow-blowers","_blank")});